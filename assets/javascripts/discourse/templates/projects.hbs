<div class="projects">
  <div class="projects-header">
    <SearchTextField
      @placeholder={{i18n "js.projects.filter"}}
      @value={{this.searchTerm}}
    />
    {{#if this.showMatches}}
      <div class="projects-header-matches">
        {{#if this.searchTerm}}
          {{i18n "js.projects.matches" count=this.filteredProjects.length}}
        {{else}}
          {{i18n "js.projects.total" count=this.filteredProjects.length}}
        {{/if}}
      </div>
    {{/if}}
    <div class="projects-header-show-subcategories">
      <DToggleSwitch
        @label="projects.showSubcategories"
        @state={{this.showSubcategories}}
        {{on "click" this.toggleSubcategories}}
      />
    </div>
    <div class="projects-header-sort-by">
      {{i18n "js.projects.sortBy"}}&nbsp;
      <ComboBox
        @value={{this.sortBy}}
        @content={{this.sortByOptions}}
        @nameProperty="name"
        @valueProperty="value"
      />
    </div>
  </div>
  {{#if this.hasProjects}}
    <div class="projects-list" style={{htmlSafe this.projectsListStyle}}>
      <CategoriesOnly @categories={{this.filteredProjects}} />
    </div>
  {{else}}
    <EmptyState class="projects-empty" @title={{i18n "js.projects.empty"}} />
  {{/if}}
</div>